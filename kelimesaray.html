<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KELİMESARAY</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .title {
            font-size: 3.5rem;
            color: #FF0000;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin-bottom: 40px;
            letter-spacing: 2px;
            font-weight: bold;
        }
        
        .main-menu {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 300px;
            margin: 0 auto;
        }
        
        .btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 15px 20px;
            font-size: 1.2rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            background-color: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        #gameArea, #settingsArea, #nameScreen {
            display: none;
        }
        
        .question-container {
            background-color: #fff;
            border-radius: 10px;
            padding: 40px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            width: 900px; /* Genişliği artırır */
            height:80px; /* Yüksekliği artırır */
        }
        
        .question {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #333;
            font-weight: bold;
        }
        
        .timer-container {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #f8f8f8;
            border-radius: 5px;
            padding: 10px;
            font-size: 1.2rem;
            color: #333;
            border: 1px solid #ddd;
        }
        
        .answer-input {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .hexagon-input {
            position: relative;
            margin: 0 auto;
        }
        
        .hexagon {
            width: auto;
            min-width: 200px;
            height: 60px;
            background-color: #e9e9e9;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            clip-path: polygon(10% 0%, 90% 0%, 100% 50%, 90% 100%, 10% 100%, 0% 50%);
        }
        
        input[type="text"] {
            border: none;
            background: transparent;
            text-align: center;
            font-size: 1.2rem;
            width: 80%;
            outline: none;
            padding: 10px;
        }
        
        .submit-btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            margin-left: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            background-color: #2980b9;
        }
        
        .feedback {
            font-size: 1.2rem;
            margin: 10px 0;
            min-height: 30px;
        }
        
        .true {
            color: green;
            font-weight: bold;
        }
        
        .false {
            color: red;
            font-weight: bold;
        }
        
        .name-input {
            margin: 40px auto;
            max-width: 300px;
        }
        
        .name-input label {
            display: block;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        .name-input input {
            width: 100%;
            padding: 12px;
            font-size: 1.2rem;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .settings-container {
            background-color: #fff;
            border-radius: 10px;
            padding: 30px;
            margin: 20px auto;
            max-width: 500px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .settings-title {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        
        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .setting-label {
            font-size: 1.2rem;
            color: #333;
        }
        
        .setting-control {
            width: 200px;
        }
        
        .back-btn {
            display: inline-flex;
            align-items: center;
            background-color: #f44336;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }
        
        .back-btn:hover {
            background-color: #d32f2f;
        }
        
        .back-icon {
            margin-right: 5px;
        }
        
        .result-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #fff;
            border-radius: 10px;
            padding: 30px;
            margin: 20px auto;
            max-width: 500px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .result-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #333;
        }
        
        .result-details {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: #666;
        }
        
        .result-score {
            font-size: 3rem;
            color: #FF0000;
            margin: 10px 0 30px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ana Menü -->
        <div id="mainMenu">
            <h1 class="title">KELİMESARAY</h1>
            <div class="main-menu">
                <button class="btn" id="playBtn">OYNA</button>
                <button class="btn" id="settingsBtn">AYARLAR</button>
            </div>
        </div>
        
        <!-- İsim Girişi Ekranı -->
        <div id="nameScreen">
            <h1 class="title">KELİMESARAY</h1>
            <div class="name-input">
                <label for="playerName">İsminiz:</label>
                <input type="text" id="playerName" placeholder="İsminizi girin">
                <button class="btn" id="startGameBtn">BAŞLA</button>
                <div class="back-btn" id="backFromName">
                    <span class="back-icon">←</span> Geri
                </div>
            </div>
        </div>
        
        <!-- Oyun Alanı -->
        <div id="gameArea">
            <div class="question-container">
                <div class="question" id="questionText">Soru burada görünecek</div>
                <div class="timer-container" id="timerDisplay">8:00</div>
            </div>
            
            <div class="answer-input">
                <div class="hexagon-input">
                    <div class="hexagon">
                        <input type="text" id="answerInput" placeholder="Cevabınızı girin">
                    </div>
                </div>
                <button class="submit-btn" id="submitBtn">GÖNDER</button>
            </div>
            
            <div class="feedback" id="feedback"></div>
        </div>
        
        <!-- Sonuç Ekranı -->
        <div id="resultScreen" class="result-screen">
            <h2 class="result-title">Oyun Bitti!</h2>
            <div class="result-details" id="resultDetails">İsim burada görünecek</div>
            <div class="result-score" id="resultScore">0</div>
            <div class="back-btn" id="backToMenuFromResult">
                <span class="back-icon">←</span> Ana Menüye Dön
            </div>
        </div>
        
        <!-- Ayarlar Alanı -->
        <div id="settingsArea">
            <div class="settings-container">
                <h2 class="settings-title">AYARLAR</h2>
                
                <div class="setting-item">
                    <div class="setting-label">Müzik Sesi:</div>
                    <div class="setting-control">
                        <input type="range" min="0" max="100" value="50" id="musicVolume">
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-label">Müzik:</div>
                    <div class="setting-control">
                        <input type="file" id="musicFile" accept="audio/*">
                    </div>
                </div>
                
                <div class="back-btn" id="backFromSettings">
                    <span class="back-icon">←</span> Geri
                </div>
            </div>
        </div>
    </div>
    
    <audio id="backgroundMusic" loop></audio>
    
    <script>
        // Sorular ve Cevaplar
        const theQues = [
            "Dünyanın en büyük okyanusu:",
            "Yedi tepe üzerine kurulu şehir olarak bilinen ilimiz:",
            "Dünyanın en yüksek dağı:",
            "Dünyanın en uzun nehri:",
            "Türkiye'nin en uzun nehri:",
            "Dünyanın en büyük adası:",
            "Türkiye'nin en büyük gölü:",
            "İlk Türk devletinin adı:",
            "Fransız İhtilali'nin gerçekleştiği sene:",
            "Çanakkale Savaşı'nın gerçekleştiği yıl:",
            "Ay'a ilk ayak basan insan:",
            "Yazıyı ilk kullanan uygarlık:",
            "Türklerin Orta Asya'dan Anadolu'ya göç etmelerine verilen isim:",
            "'Mesnevi' eserine sahip tasavvufçu, şair:",
            "'Savaş ve Barış' romanının yazarı:",
            "'Mona Lisa' tablosunun ressamı:",
            "Bağımsızlık Heykeli'ne sahip olan ülke: ",
            "Piramitleriyle meşhur bir ülke:",
            "'İstiklal Marşı'nın bestecisi:",
            "Yer çekimi kanununu bulan bilim insanı:",
            "DNA'nın yapısını keşfeden bilim insanlarından biri:",
           "Ampulü icat eden bilim insanı:",
           "Kimyada Periyodik tabloyu oluşturan bilim insanı:",
           "Radyoaktiviteyi keşfeden bilim insanı:",
           "Kara delik teorisini ortaya atan bilim insanı:",
           "İlk bilgisayarı icat eden bilim insanı:",
           "Telefonu icat eden bilim insanı:",
           "Dünya Kupası'nı en çok kazanan ülke:",
           "Türkiye Süper Ligi'nde en çok şampiyon olan takım:",
           "Basketbolda NBA'de en çok şampiyon olan takım:",
           "Teniste Grand Slam turnuvalarını en çok kazanan erkek sporcu:",
           "Olimpiyat halkalarındaki renk sayısı:",
           "Futbolda en çok gol atan oyuncu:",
           "Voleybolda Dünya Şampiyonası'nı en çok kazanan ülke:",
           "Dünyanın en kalabalık ülkesi:",
           "Boynu çok uzun olan bir hayvan:",
           "Elmas kadar sert ama çok daha hafif olan bir madde:",
           "En fazla 'Oscar' ödülü kazanarak rekor kıran müzikal film:",
           "Genellikle aşkın sembolü olarak da bilinen bir çiçek:",
           "Walter White, Jesse Pinkman karakterlerinin yer aldığı ünlü dizi:",
           "'Sözleşme' anlamında Arapça kökenli söz:",
           "Bir ölçüm ve çizim aracının 'Çizelge, liste' anlamında da kullanılan adı:",
           "Harcanan çabayı,emeği karşılamaz, o kıymette değil:",
           "Sherlock Holmes hikayelerinde yer alan doktorun ismi:",
           "Basamak, safha, mertebe:",
           "Simya ilmine göre dokunduğu her maddeyi altına çevirebilen cisim:",
           "Kozmetik sektöründe de yaygın kullanılan dinamit ham maddesi:",
           "Lüks tüketim yumurtası:",
           "Bukalemun misali gizlenmek:",
           "Niyetini, düşüncesi, eğilimini anlamaya çalışmak:",
           "İşitme fonksiyonlarını test ederek ölçen aygıt:",
           "Islahatçı sözünün Fransızca kökenli eş anlamlısı:",
           "Diğer tarafa, karşı gruba geçmek:",
           "Beklenmedik, karşıt bir etki yaratmak:",
           "Tüm bedeni sarsan titreme hissi:",
           "'Argoda' birine karşı yapılan yanlış ve hatalı davranış:",
           "Çok istemek, heves duymak:",
           "'İçinden çıkılması, atlatılması güç olan bunalımlı durum:",
           "'Bireysellik' sözcüğünün Arapça kökenli eş anlamlısı:",
           "Evcimenin karşıtı, dolaşmayı çok seven:",
           "İçinde bir şey dövülüp ufalanan kap:",
           "'Termostat' ın Türkçesi:",
           "Şiddetli omuz ve sırt ağrısı:",
           "Minareleri süsleyen Ramazan ışıltıları:",
           "Bir kusurun hoş görülmesini gerektiren sebep, mazeret:",
           "Oksidasyon kızılı:",
           "Müzik parçasının farklı ritimlerle çeşitlendirilmiş hali:",
           "Sıkı sıkı, sağlı sollu kucaklamak:",
           "Üstün başarı veya hizmet karşılığı verilen onurlandırıcı ödül:",
           "Alçak gönüllülük:",
           "Normalden yüksek seviyedeki akıl cevheri:",
           "Cimri, pinti, biriktirdiğini harcamayan:",
           "İlgi ve yakınlık göstermemek:",
           "Sebze satıcısı:",
           "Vecize ve özdeyiş kelimelerinin Batı kökenli eş anlamlısı:",
           "Bilinmeyen bir yeri ortaya çıkarma:",
           "Askerlik, eğitim veya iş sürecinde birlikte olan kişiler:",
           "Beden ve kafa gücüyle ortaya konan üretim faktörü:",
           "'Aramak' fiilini 'Telaşla, heyecan içinde' anlamıyla niteleyen ikileme:",
           "Pamuk Prenses'ten Kırmızı Başlıklı Kız'a kadar birçok ünlü masalın yazarları:",
           "Adı 'Yeşil' anlamına gelen ulu şahsiyet:",
           "Volkan ağzı:",
           "Bir iş için 'üzerine konuşulmak fakat gerçekleşmemek:'",
           "Benzeri az bulunan, istisna olan:",
           "Adını, bir meyve ağacının bahar aylarında büründüğü renkten alan parlak kırmızı tonu:",
           "Aracı, mekanik ve elektronik sistemleri kullanarak belirli şartlar altında yönetebilen mekanizma:",
           "Tanrı ile evreni bir kılan öğreti, tüm tanrıcılık:",
           "Tane taneliğe prim vermeyen İtalyan pilavı:",
           "Kulaktan kulağa, dilden dile yayılan gerçekliği belirsiz olay:",
           "Oyunda kazanmak, yenmek:",
           "Elektromotor gücün veya gerilimin birimi:",
           "Gösterdiği ilgiyi kesmek:",
           "Ölmez ağaç:",
           "İki eli üstünde tepetaklak durmak:",
           "Onbinlerce devre elemanından oluşan minicik yarı iletken malzeme:",
           "Kendi ekseni etrafında hareket eden giriş-çıkış yeri:",
           "'Tekamül' veya 'Gelişme süreci' anlamındaki söz:",
           "'İlerleme, inkişaf, tekamül' anlamlarına gelen kelime:",
           "Bir düşünce veya kararı benimsemeyerek karşı çıkma:",
           "'Kargaşa içinde olan' anlamındaki Fransızca kökenli söz:",
           "'Değiştirilmiş' anlamında Fransızca kökenli bir söz:",
           "Ateşli silahla belirlenen tam hedefi vurma işi:",
           "Hafif ıslaklık, nem:",
           "Mecazen olumsuz bir durumdan veya yerden çıkıp kurtulmak:",
           "'Kriptoloji' de denen dal:",
           "Seslenmek veya yüksek sesle bildirmek:",
           "Fransızca kökenli 'değişik biçim' veya 'değişim' anlamındaki söz:",
           "'Akustik' sözünün Türkçe karşılığı:",
           "Yorgunluk veya hastalıktan gücü tükenen:",
           "Verilerin dağılımını gösteren, ortası yüksek, kenarları düşük grafik şekli:",
           "İlham almak:",
           "Sürücülere yönelik 'Hareket et, hızlan, git' anlamlarında bir direktif:",
           "Sudan sebeplerle, durup dururken sinirlenmek:",
           "El dokuması ipeği, halıları, cam ve gümüş işçiliği, havyarı, minyatür resimleri, seramik işlemeciliği ile ünlü ülke:",
           "Volkan ağzındaki durgun su birikintisi:",
           "İlhamla dolu, coşkun:",
           "Bir işi yapmadaki ustalık:",
           "Şöhretini yaymak:",
           "Tuzağa düşürmek,aldatmak:",
           "Gereksiz titizlik gösteren:",
           "Türkçe kökenli adı 'Güneşletici' olan aygıtın bilinen adı:",
           "Ispanakgillerin yüksek oranda sakkaroz içeren üyesi:",
           "'Seslendirme' nin Fransızca kökenlisi:",
           "Kronik nefes darlığı:",
           "Genellikle ince kumaşlı kadın üst giysisi:",
           "Suçluya yaptırım uygulamak:",
           "Sayıların birbiriyle işlemlerini gösteren cetvel,kerrat cetveli:",
           "Yaşanan olaydan deneyim kazanmak, tecrübe edinmek:",
           "'Ruhsal ve bedensel olarak sağlıklı yaşayın' anlamında bir iyi dilek sözü:",
           "Emek göçmeni:",
           "Yakını iyi göremeyen göz:",
           "'Yararlanma' anlamındaki Arapça kökenli söz:",
           "Arılar için de kullanılan monarşik bir ünvan:",
           "Başkenti Riga olan ülke:",
           "'Saygıdeğer' anlamında bir sözcük:",
           "Solunumu durduracak kadar çekici:",
           "'Kıvanç, iftihar' anlamında bir sözcük:",
           "Bazı sesleri kusurlu söyleyen veya tutuk konuşan kimse:",
           "Tokat'ın, adını V. Mehmet'ten alan ilçesi:",
           "Yoksulluktan düşkünleşmiş olan:",
           "Görkem, gösteriş, ihtişam, şatafat:",
           "Sınıf atlamış müstakil ev:",
           "İstanbul'un 1500 yıllık tatlı su deposu(Aynı zamanda bir sarnıç ismi):",
           "Mekke'de, Kabe'nin 20 km doğusundaki su kaynağı ve kuyusu:"
        ];

        const theAns = [
            "Büyük Okyanus",
            "İstanbul",
            "Everest",
            "Nil",
            "Kızılırmak",
            "Grönland",
            "Van Gölü",
            "Asya Hun Devleti",
            "1789",
            "1915",
            "Neil Armstrong",
            "Sümerler",
            "Kavimler Göçü",
            "Mevlana",
            "Tolstoy",
            "Leonardo da Vinci",
            "ABD",
            "Mısır",
            "Osman Zeki Üngör",
            "Isaac Newton",
          "James Watson",
          "Thomas Edison",
          "Mendeleyev",
          "Marie Curie",
          "Albert Einstein",
          "Charles Babbage",
          "Graham Bell",
          "Brezilya",
          "Galatasaray",
          "Boston Celtics",
          "Novak Djokovic",
          "Beş",
          "Cristiano Ronaldo",
          "Rusya",
          "Hindistan",
          "Zürafa",
          "Grafen",
          "Titanic",
          "Gül",
          "Breaking Bad",
          "Akit",
          "Cetvel",
          "Değmez",
          "Watson",
          "Etap",
          "Felsefe taşı",
          "Gliserin",
          "Havyar",
          "Kamufle olmak",
          "Nabız yoklamak",
          "Odyometre",
          "Reformist",
          "Saf değiştirmek",
          "Ters tepmek",
          "Ürperti",
          "Yamuk",
          "Can atmak",
          "Darboğaz",
          "Ferdiyet",
          "Gezenti",
          "Havan",
          "Isıdenetir",
          "Kulunç",
          "Mahya",
          "Özür",
          "Pas rengi",
          "Remiks",
          "Sarmalamak",
          "Şeref Madalyası",
          "Tevazu",
          "Üstün zeka",
          "Varyemez",
          "Yüz vermemek",
          "Zerzevatçı",
          "Aforizma",
          "Coğrafi keşif",
          "Devre arkadaşı",
          "Emek",
          "Fellik fellik",
          "Grimm Kardeşler",
          "Hızır",
          "Krater",
          "Lafta kalmak",
          "Müstesna",
          "Nar çiçeği",
          "Otopilot",
          "Panteizm",
          "Risotto",
          "Şehir efsanesi",
          "Ütmek",
          "Volt",
          "Yüz çevirmek",
          "Zeytin",
          "Amuda kalkmak",
          "Çip",
          "Döner kapı",
          "Evrim",
          "Gelişim",
          "İtiraz",
          "Kaotik",
          "Modifiye",
          "Nokta atışı",
          "Rutubet",
          "Sıyrılmak",
          "Şifre bilimi",
          "Ünlemek",
          "Varyasyon",
          "Yankılanım",
          "Bitik",
          "Çan eğrisi",
          "Esinlenmek",
          "Gazla",
          "Heyheylenmek",
          "İran",
          "Krater gölü",
          "Lirik",
          "Marifet",
          "Nam salmak",
          "Oyuna getirmek",
          "Pimpirikli",
          "Solaryum",
          "Şeker pancarı",
          "Dublaj",
          "Astım",
          "Bluz",
          "Ceza kesmek",
          "Çarpım tablosu",
          "Ders çıkarmak",
          "Esen kalın",
          "Gurbetçi",
          "Hipermetrop",
          "İstifade",
          "Kraliçe",
          "Letonya",
          "Muhterem",
          "Nefes kesici",
          "Övünç",
          "Peltek",
          "Reşadiye",
          "Sefil",
          "Şaşaa",
          "Villa",
          "Yerebatan",
          "Zemzem"
        ];

        // Element Referansları
        const mainMenu = document.getElementById('mainMenu');
        const gameArea = document.getElementById('gameArea');
        const settingsArea = document.getElementById('settingsArea');
        const nameScreen = document.getElementById('nameScreen');
        const resultScreen = document.getElementById('resultScreen');
        
        const playBtn = document.getElementById('playBtn');
        const settingsBtn = document.getElementById('settingsBtn');
        const startGameBtn = document.getElementById('startGameBtn');
        const submitBtn = document.getElementById('submitBtn');
        const backFromName = document.getElementById('backFromName');
        const backFromSettings = document.getElementById('backFromSettings');
        const backToMenuFromResult = document.getElementById('backToMenuFromResult');
        
        const playerNameInput = document.getElementById('playerName');
        const answerInput = document.getElementById('answerInput');
        const questionText = document.getElementById('questionText');
        const timerDisplay = document.getElementById('timerDisplay');
        const feedback = document.getElementById('feedback');
        const resultDetails = document.getElementById('resultDetails');
        const resultScore = document.getElementById('resultScore');
        
        const musicVolume = document.getElementById('musicVolume');
        const musicFile = document.getElementById('musicFile');
        const backgroundMusic = document.getElementById('backgroundMusic');
        
        // Oyun Değişkenleri
        let remainingQuestions = [];
        let currentQuestionIndex = -1;
        let currentCorrectAnswer = '';
        let wrongAttempts = 0;
        let playerPoints = 0;
        let playerName = '';
        let timer;
        let timeLeft = 8 * 60; // 8 dakika
// Oyun Fonksiyonları
function startGame() {
    playerName = playerNameInput.value.trim() || "Oyuncu";
    nameScreen.style.display = "none";
    gameArea.style.display = "block";
    
    // Soruların rastgele 20 tanesini seç
    remainingQuestions = [...Array(theQues.length).keys()]
        .sort(() => Math.random() - 0.5) // Karıştır
        .slice(0, 20); // İlk 20 tanesini al
    
    playerPoints = 0;
    wrongAttempts = 0;
    
    // Zamanlayıcıyı başlat
    timeLeft = 8 * 60; // 8 dakika
    updateTimerDisplay();
    
    timer = setInterval(function() {
        timeLeft--;
        updateTimerDisplay();
        
        if (timeLeft <= 0) {
            endGame();
        }
    }, 1000);
    
    // İlk soruyu göster
    showNextQuestion();
}

function showNextQuestion() {
    // Tüm sorular cevaplandıysa oyunu bitir
    if (remainingQuestions.length === 0) {
        endGame();
        return;
    }
    
    // Rastgele bir soru seç
    const randomIndex = Math.floor(Math.random() * remainingQuestions.length);
    currentQuestionIndex = remainingQuestions[randomIndex];
    
    // Seçilen soruyu listeden çıkar
    remainingQuestions.splice(randomIndex, 1);
    
    questionText.textContent = theQues[currentQuestionIndex];
    currentCorrectAnswer = theAns[currentQuestionIndex];
    
    // Cevap alanını temizle
    answerInput.value = "";
    feedback.textContent = "";
    feedback.className = "feedback";
    
    // Yanlış deneme sayısını sıfırla
    wrongAttempts = 0;
    
    // Cevap alanına odaklan
    answerInput.focus();
}

function checkAnswer() {
    const userAnswer = answerInput.value.trim();
    
    if (userAnswer.toLowerCase() === currentCorrectAnswer.toLowerCase()) {
        // Doğru cevap
        feedback.textContent = "Doğru!";
        feedback.className = "feedback true";
        
        // Puan ekle - doğru cevabın uzunluğuna göre
        playerPoints += currentCorrectAnswer.length * 10;
        
        // Biraz bekle ve sonraki soruya geç
        setTimeout(showNextQuestion, 1000);
    } else {
        // Yanlış cevap
        wrongAttempts++;
        feedback.textContent = "Yanlış! Tekrar deneyin.";
        feedback.className = "feedback false";
        
        // 5 yanlış deneme sonrasında doğru cevabı göster ve sonraki soruya geç
        if (wrongAttempts >= 5) {
            feedback.textContent = `Doğru cevap: ${currentCorrectAnswer}`;
            
            // Doğru cevabın uzunluğuna göre puan düşür
            playerPoints -= currentCorrectAnswer.length * 5;
            // Negatif puana düşmesini engelle
            playerPoints = Math.max(0, playerPoints);
            
            // Biraz bekle ve sonraki soruya geç
            setTimeout(showNextQuestion, 2000);
        }
    }
}

function endGame() {
    // Zamanlayıcıyı durdur
    clearInterval(timer);
    
    // Oyun ekranını gizle
    gameArea.style.display = "none";
    
    // Sonuç ekranını göster
    resultScreen.style.display = "flex";
    resultDetails.textContent = `Oyuncu: ${playerName}`;
    resultScore.textContent = playerPoints;
}

function updateTimerDisplay() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
}

// Müzik ayarları
function updateMusicVolume() {
    backgroundMusic.volume = musicVolume.value / 100;
}

function handleMusicFile() {
    const file = musicFile.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            backgroundMusic.src = e.target.result;
            backgroundMusic.play();
        };
        reader.readAsDataURL(file);
    }
}

// Event Listeners
playBtn.addEventListener('click', function() {
    mainMenu.style.display = "none";
    nameScreen.style.display = "block";
});

settingsBtn.addEventListener('click', function() {
    mainMenu.style.display = "none";
    settingsArea.style.display = "block";
});

startGameBtn.addEventListener('click', startGame);

submitBtn.addEventListener('click', checkAnswer);

// Enter tuşu ile de cevap gönderebilme
answerInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        checkAnswer();
    }
});

backFromName.addEventListener('click', function() {
    nameScreen.style.display = "none";
    mainMenu.style.display = "block";
});

backFromSettings.addEventListener('click', function() {
    settingsArea.style.display = "none";
    mainMenu.style.display = "block";
});

backToMenuFromResult.addEventListener('click', function() {
    resultScreen.style.display = "none";
    mainMenu.style.display = "block";
});

musicVolume.addEventListener('input', updateMusicVolume);
musicFile.addEventListener('change', handleMusicFile);
</script>
</body>
</html>
        